/*! SlideDeck-JS - v1.4.5 - 2014-03-04 */

/*!
 * More information on this project:
 * http://www.slidedeck.com/
 *
 * Requires: jQuery v1.3+
 *
 * Full Usage Documentation: http://www.slidedeck.com/usage-documentation
 * Usage:
 *     $(el).slidedeck(opts);
 *
 * @param {HTMLObject} el    The <DL> element to extend as a SlideDeck
 * @param {Object} opts      An object to pass custom override options to
 */
/*!
Copyright 2012 HBWSL  (email : support@hbwsl.com)

This file is part of SlideDeck.

SlideDeck is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

SlideDeck is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with SlideDeck.  If not, see <http://www.gnu.org/licenses/>.
*/

function slideckAutoAdjustImagesOnLoad(e){if("undefined"!=typeof e){for(var s=0;s<e.length;s++)e[s].autoAdjustAfterLoad();"undefined"==typeof e.length&&e.autoAdjustAfterLoad()}jQuery(".slidedeck-frame .slidedeck .sd2-content-wrapper").show()}function addEvent(e,s,t){s.addEventListener?s.addEventListener(e,t,!1):s.attachEvent?s.attachEvent("on"+e,t):s[e]=t}var SlideDeck,SlideDeckSkin={},SlideDeckLens={},flagSpineShowAlways=!1,slideDeckImagesLoaded=!1,CTAfunction=function(e){window.open(e,"_blank")};jQuery(window).load(function(e){var s=jQuery(".slidedeck-frame .slidedeck").slidedeck();if(slideDeckImagesLoaded===!0?slideckAutoAdjustImagesOnLoad(s):(jQuery("dd img.sd2-is-first-slide")&&jQuery(".slidedeck-frame .slidedeck .sd2-content-wrapper").show(),jQuery(window).on("slidedeckImagesLoaded",function(){slideckAutoAdjustImagesOnLoad(s)})),"undefined"!=typeof s){var t=jQuery(s.slides);t.closest("lens-parfocal")&&t.find("img").css("visibility","visible")}}),jQuery(document).ready(function(e){jQuery("img.slide-deck-lazy").jail({timeout:500,loadHiddenImages:!0,loadAllHorizontal:!0,callback:function(){slideDeckImagesLoaded=!0,jQuery(window).trigger("slidedeckImagesLoaded")}});var s="onorientationchange"in window,t=s?"orientationchange":"resize";addEvent(t,window,function(){var e=jQuery(".slidedeck-frame .slidedeck").slidedeck();if("undefined"!=typeof e){for(var s=0;s<e.length;s++)e[s].reloadSlidedeck();"undefined"==typeof e.length&&e.reloadSlidedeck()}}),jQuery(".lens-classic dl").hover(function(e){jQuery("dt.spine").stop(!0,!0).fadeIn()},function(e){jQuery(this).parent().is(".display-nav-hover")&&jQuery("dt.spine").stop(!0,!0).fadeOut()})}),function(e){window.SlideDeck=function(s,t){var i=this,s=e(s),n="",r="pro";"undefined"!=typeof window.slideDeck2Version&&(n="sd2-"+window.slideDeck2Version+"-"),"undefined"!=typeof window.slideDeck2Distribution&&(r=window.slideDeck2Distribution);var o=screen.width;this.options={speed:500,transition:"swing",start:1,activeCorner:!0,index:!0,scroll:!0,keys:!0,autoPlay:!1,autoPlayInterval:5e3,hideSpines:!1,cycle:!1,slideTransition:"slide",touchThreshold:{x:50,y:30},touch:!0,controlProgress:!1,auto_height:!1,device_width:o,fashion:!1},this.classes={slide:"slide",spine:"spine",label:"label",index:"index",active:"active",indicator:"indicator",activeCorner:"activeCorner",disabled:"disabled",vertical:"slidesVertical",previous:"previous",next:"next"},this.current=1,this.deck=s,this.former=-1,this.spines=s.children("dt"),"undefined"!=typeof t&&t.fashion?this.slides=s.children("li"):this.slides=s.children("dd"),s.children("li").length>0&&(this.options.cycle=!0,this.slides=s.children("li")),this.controlTo=1,this.session=[],this.disabledSlides=[],this.pauseAutoPlay=!1,this.isLoaded=!1;var a=navigator.userAgent.toLowerCase();this.browser={chrome:a.match(/chrome/)?!0:!1,chromeFrame:a.match(/msie/)&&a.match(/chrome/)?!0:!1,chromeiOS:a.match(/crios/)?!0:!1,firefox:a.match(/firefox/)?!0:!1,firefox2:a.match(/firefox\/2\./)?!0:!1,firefox30:a.match(/firefox\/3\.0/)?!0:!1,msie:a.match(/msie/)?!0:!1,msie6:a.match(/msie 6/)&&!a.match(/msie 7|8/)?!0:!1,msie7:a.match(/msie 7/)?!0:!1,msie8:a.match(/msie 8/)?!0:!1,msie9:a.match(/msie 9/)?!0:!1,msie10:a.match(/msie 10/)?!0:!1,opera:a.match(/opera/)?!0:!1,safari:a.match(/safari/)&&!a.match(/chrome|crios/)?!0:!1};for(var d in this.browser)this.browser[d]===!0&&(this.browser._this=d);this.browser.chrome!==!0||this.browser.chromeFrame||(this.browser.version=a.match(/chrome\/([0-9\.]+)/)[1]),this.browser.firefox===!0&&(this.browser.version=a.match(/firefox\/([0-9\.]+)/)[1]),this.browser.msie===!0&&(this.browser.version=a.match(/msie ([0-9\.]+)/)[1]),this.browser.opera===!0&&(this.browser.version=a.match(/version\/([0-9\.]+)/)[1]),this.browser.safari!==!0||this.browser.chromeiOS||(this.browser.version=a.match(/version\/([0-9\.]+)/)[1]),this.browser.chromeiOS===!0&&(this.browser.version=a.match(/crios\/([0-9\.]+)/)[1]);var l,c,p,h,f,u;this.looping=!1;var g="";switch(i.browser._this){case"firefox":case"firefox3":g="-moz-";break;case"chrome":case"safari":g="-webkit-";break;case"opera":g="-o-"}var v=function(e){if(i.browser.msie&&!i.browser.msie9&&!i.browser.msie10){var s=e.css("background-color"),t=s;if("transparent"===t)s="#ffffff";else if(t.match("#")&&t.length<7){var n="#"+t.substr(1,1)+t.substr(1,1)+t.substr(2,1)+t.substr(2,1)+t.substr(3,1)+t.substr(3,1);s=n}s=s.replace("#","");var r={r:s.substr(0,2),g:s.substr(2,2),b:s.substr(4,2)},o="#",a="01234567890ABCDEF";for(var d in r)r[d]=Math.max(0,parseInt(r[d],16)-1),r[d]=a.charAt((r[d]-r[d]%16)/16)+a.charAt(r[d]%16),o+=r[d];e.find("."+i.classes.index).css({filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1) chroma(color="+o+")",backgroundColor:o})}},m=function(s){var t=e(".slidedeck-frame").hasClass("msie-8")?!0:!1;e(s).find("img").css("visibility","visible"),e(s).closest(".lens-prime").length||e(s).closest(".lens-parfocal").length||jQuery(s).ready(function(){var i=e(s).height(),n=e(s).outerWidth(),r=e(s).children("img.sd2-slide-background");if(r.length>0){var o=r[0].naturalHeight,a=r[0].naturalWidth;if(jQuery(s).hasClass("sd2-image-scaling-none")){if(!t)return;r.css({maxWidth:"none"});var d=(o-i)/2,l=(a-n)/2;o>i?r.css({marginTop:"-"+d+"px"}):i>o&&r.css({marginTop:Math.abs(d)+"px"}),a>n?r.css({marginLeft:"-"+l+"px"}):(r.css({marginLeft:"auto"}),r.css({marginRight:"auto"}))}else if(jQuery(s).hasClass("sd2-image-scaling-contain")){var c=parseInt(r.width()/r.height()*i+8);if(jQuery(s).parent().parent().is(".display-nav-always")&&jQuery(s).parent().parent().is(".lens-classic")?jQuery(s).parent().parent().is(".display-nav-always")&&jQuery(s).parent().parent().is(".lens-classic")&&jQuery(s).find("img").css({width:+c+"px"}):jQuery(s).find("img").css({margin:"0 auto",width:+c+"px"}),!t)return;r.addClass("slidedeck-adjust-height").removeClass("slidedeck-adjust-width");var p=r.height(),h=r.width(),d=(p-i)/2,l=(h-n)/2;if(h>n){r.addClass("slidedeck-adjust-width").removeClass("slidedeck-adjust-height");var p=r.height(),h=r.width(),d=(p-i)/2,l=(h-n)/2;p>i?r.css({marginTop:"-"+d+"px"}):i>p&&r.css({marginTop:Math.abs(d)+"px"})}else r.css({marginLeft:"auto"}),r.css({marginRight:"auto"})}else if(jQuery(s).hasClass("sd2-image-scaling-cover")){o>a?r.addClass("slidedeck-adjust-width").removeClass("slidedeck-adjust-height"):r.addClass("slidedeck-adjust-height").removeClass("slidedeck-adjust-width");var p=r.height(),h=r.width(),d=(p-i)/2,l=(h-n)/2;if(p>i?r.css({marginTop:"-"+d+"px"}):i>p&&r.css({marginTop:Math.abs(d)+"px"}),h>n)r.css({marginLeft:"-"+l+"px"});else{r.addClass("slidedeck-adjust-width").removeClass("slidedeck-adjust-height");var p=r.height(),h=r.width(),d=(p-i)/2,l=(h-n)/2;p>i&&r.css({marginTop:"-"+d+"px"})}}}})},y=function(){"undefined"!=typeof Cufon&&Cufon.DOM.ready(function(){if("undefined"!=typeof i.options.cufonRefresh){var s=[];"string"==typeof i.options.cufonRefresh?s.push(i.options.cufonRefresh):s=i.options.cufonRefresh;for(var t=0;t<s.length;t++)Cufon.refresh(s[t])}if(i.options.hideSpines===!1){var n=0;i.browser.msie8&&!i.browser.chromeFrame&&(n=Math.floor((e(i.spines[0]).outerWidth()-e(e(i.spines[0]).find("cufon")[0]).height())/2)),(i.browser.safari||i.browser.chrome||i.browser.chromeFrame)&&document.doctype.publicId.toLowerCase().match(/transitional/)&&(n=Math.floor((e(i.spines[0]).outerHeight()-e(e(i.spines[0]).find("cufon")[0]).height())/2)),i.spines.find(">cufon").css("margin-top",n)}})},w=function(){return!1},b=function(){if(i.options.controlProgress===!0)for(var s=0;s<i.spines.length;s++)s<i.controlTo?e(i.spines[s]).removeClass(i.classes.disabled):e(i.spines[s]).addClass(i.classes.disabled)},x=function(s){var t=!1;return"undefined"!=typeof i.verticalSlides&&"undefined"!=typeof i.vertical().options&&i.vertical().options.scroll===!0&&e(s.target).parents("."+i.classes.vertical).length>0&&(t=!0),t},k=function(){var s=!1,t=!1,n=function(){if(i.options.device_width>700){var r=e(i.spines).parent();if(e(r).parent().is(".lens-classic")&&e(r).parent().is(".display-nav-always")){var o=i.spines.height(),a=e(".lens-classic dt").index(e(".active")),d=e(".lens-classic dt").length;a+=2,a!==d+1||flagSpineShowAlways?d+1>a&&!flagSpineShowAlways&&e(".sd2-node-caption").css("left",a*o+"px"):(a=1,e(".sd2-node-caption").css("left",a*o+"px"),a=d+1)}}if(s=!1,i.pauseAutoPlay===!1&&i.options.autoPlay===!0){"undefined"!=typeof i.vertical()&&i.vertical().navChildren&&i.vertical().current+1!==i.vertical().slides.length&&(s=!0);var l=!0;i.options.cycle===!1&&i.current===i.slides.length&&(s===!0?i.vertical().current+1===i.vertical().slides.length&&(l=!1):l=!1),l===!1?i.pauseAutoPlay=!0:s===!0?(i.vertical().current+2===i.vertical().slides.length&&(s=!1,t=i.current),i.vertical().next()):1===i.slides.length&&i.current===i.slides.length?t!==!1&&(i.resetVertical(t,!1),t=!1):(-1!==i.former&&"undefined"!=typeof i.verticalSlides[i.former]&&"undefined"!=typeof i.verticalSlides[i.former].navChildren&&i.resetVertical(i.former+1),i.next(function(e){t!==!1&&(e.resetVertical(t),t=!1)}))}setTimeout(n,i.options.autoPlayInterval)};setTimeout(n,i.options.autoPlayInterval)},I=function(t,n){if(i.options.hideSpines===!0)var r={display:"block"};else var r={};if(r[g+"transform-origin"]="50% 50%",r[g+"transform"]="",n<i.current){var o=n*h;i.options.hideSpines===!0&&(o=n===i.current-1?0:0-(i.options.start-n-1)*s.width())}else{f=l-h*i.spines.length,i.options.hideSpines===!0&&(f=l);var o=n*h+f;i.options.hideSpines===!0&&(o=(n+1-i.options.start)*s.width())}switch(t){case"stack":r.zIndex=i.slides.length-n,r.left=0;break;case"fade":var a=i.slides.eq(i.current-1);r.zIndex=i.slides.length-n,r.left=0,i.slides.not(a).css({opacity:0});break;case"flip":r.zIndex=i.slides.length-n,r.left=0,n!==i.current-1&&(r[g+"transform"]="scaleY(0)");break;case"flipHorizontal":r.zIndex=i.slides.length-n,r.left=0,n!==i.current-1&&(r[g+"transform"]="scaleX(0)");break;case"slide":default:e(i.slides.parent().parent()).is(".display-nav-hover")?r.left=0:r.left=o,r.zIndex=1}return i.slides.eq(n).css(g+"transition","").css(r),o},C=function(){var s=e(i.slides[i.current-1]),t=!1;if("undefined"!=typeof i.vertical()&&i.vertical().navChildren&&i.vertical().current+1!==i.vertical().slides.length&&(t=!0),(i.options.auto_height||screen.width<700)&&i.options.hideSpines===!0&&t===!1){var n=s.find("img.sd2-slide-background");0!==n.length?n.on("load",function(){S(s)}).each(function(){this.complete&&e(this).load()}):S(s)}else t&&(s=i.vertical().slides[i.current-1]),m(s)},S=function(s){var t=0;e(s).children("img, div").each(function(){var s=0,i=0;e(this).hasClass("slide-content")&&(s=jQuery(this).css("padding-top"),i=jQuery(this).css("bottom"));var n=this.clientHeight;e(this).find(".slide-content").length&&(n=e(this).find(".slide-content").height(),s=e(this).find(".slide-content").css("padding-top"),i=e(this).find(".slide-content").css("bottom")),n>t&&(t=n+parseInt(s)+parseInt(i))}),parseInt(t)<20&&i.options.device_width>700?t=c:parseInt(t)<20&&i.options.device_width<700&&(t=200),i.slides.context.style.height=t+"px",s.css("height",t+"px");var n=parent.document.getElementById("slidedeck-preview");if(null!==n){var r=jQuery(".slidedeck-frame .sd-nav-wrapper").height();n.style.height=t+r+100+"px"}},j=function(){e.inArray(s.css("position"),["position","absolute","fixed"])&&s.css("position","relative"),s.css("overflow","hidden");for(var t=0;t<i.slides.length;t++){var n=e(i.slides[t]);if(i.spines.length>t)var r=e(i.spines[t]);var o={top:parseInt(n.css("padding-top"),10),right:parseInt(n.css("padding-right"),10),bottom:parseInt(n.css("padding-bottom"),10),left:parseInt(n.css("padding-left"),10)},a={top:parseInt(n.css("border-top-width"),10),right:parseInt(n.css("border-right-width"),10),bottom:parseInt(n.css("border-bottom-width"),10),left:parseInt(n.css("border-left-width"),10)};for(var d in a)a[d]=isNaN(a[d])?0:a[d];t<i.current&&t===i.current-1&&(i.options.hideSpines!==!0&&r.addClass(i.classes.active),n.addClass(i.classes.active)),i.options.hideSpines===!1&&(f=l),i.slide_width=f-o.left-o.right-a.left-a.right;var g=c-o.top-o.bottom-a.top-a.bottom+"px",m={position:"absolute",height:g,width:i.slide_width+"px",margin:0,paddingLeft:o.left+"px"},C=I(i.options.slideTransition,t);if(n.css(m).addClass(i.classes.slide).addClass(i.classes.slide+"_"+(t+1)),i.options.hideSpines!==!0){var S={top:parseInt(r.css("padding-top"),10),right:parseInt(r.css("padding-right"),10),bottom:parseInt(r.css("padding-bottom"),10),left:parseInt(r.css("padding-left"),10)};for(var j in S)S[j]<10&&("left"===j||"right"===j)&&(S[j]=10);var T=S.top+"px "+S.right+"px "+S.bottom+"px "+S.left+"px",_={position:"absolute",zIndex:3,left:C,width:c+"px",height:p+"px",padding:T,rotation:"270deg","-webkit-transform":"rotate(270deg)","-webkit-transform-origin":u+"px 0px","-moz-transform":"rotate(270deg)","-moz-transform-origin":u+"px 0px","-ms-transform":"rotate(270deg)","-ms-transform-origin":u+"px 0px","-o-transform":"rotate(270deg)","-o-transform-origin":u+"px 0px",textAlign:"right"};if(!i.browser.msie9&&!i.browser.msie10){_.top=i.browser.msie?0:c-u+"px",_.marginLeft=(i.browser.msie?0:0-u)+"px";var A=document.getElementsByTagName("html")[0].dir;"rtl"===A.toLowerCase()&&i.browser.msie8===!0&&(_.marginLeft=0-c+2*u+"px"),_.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"}r.css(_).addClass(i.classes.spine).addClass(i.classes.spine+"_"+(t+1)),(i.browser.msie9||i.browser.msie10)&&(r[0].style.msTransform="rotate(270deg)",r[0].style.msTransformOrigin=Math.round(parseInt(s[0].style.height,10)/2)+"px "+Math.round(parseInt(s[0].style.height,10)/2)+"px")}else"undefined"!=typeof r&&r.hide();if(t===i.slides.length-1&&(n.addClass("last"),i.options.hideSpines!==!0&&r.addClass("last")),i.options.activeCorner===!0&&i.options.hideSpines===!1){var Q=document.createElement("DIV");Q.className=i.classes.activeCorner+" "+(i.classes.spine+"_"+(t+1)),r.after(Q),r.next("."+i.classes.activeCorner).css({position:"absolute",top:"25px",left:C+h+"px",overflow:"hidden",zIndex:"20000"}).hide(),r.hasClass(i.classes.active)&&r.next("."+i.classes.activeCorner).show()}if(i.options.hideSpines!==!0){var L=document.createElement("DIV");if(L.className=i.classes.index,i.options.index!==!1){var D;D="boolean"!=typeof i.options.index?i.options.index[t%i.options.index.length]:""+(t+1),L.appendChild(document.createTextNode(D))}r.append(L),r.find("."+i.classes.index).css({position:"absolute",zIndex:2,display:"block",width:p+"px",height:p+"px",textAlign:"center",bottom:(i.browser.msie?0:0-u)+"px",left:(i.browser.msie?5:20)+"px",rotation:"90deg","-webkit-transform":"rotate(90deg)","-webkit-transform-origin":u+"px 0px","-moz-transform":"rotate(90deg)","-moz-transform-origin":u+"px 0px","-o-transform":"rotate(90deg)","-o-transform-origin":u+"px 0px"}),(i.browser.msie9||i.browser.msie10)&&(r.find("."+i.classes.index)[0].style.msTransform="rotate(90deg)"),i.browser.msie||r.find("."+i.classes.index).css({"-ms-transform":"rotate(90deg)","-ms-transform-origin":u+"px 0px"}),v(r)}}if(w(),i.options.hideSpines!==!0&&i.spines.bind("click",function(s){if(s.preventDefault(),i.options.device_width>700){var t=e(this).parent();if(e(t).parent().is(".lens-classic")&&e(t).parent().is(".display-nav-always")){var n=i.spines.height();e(".sd2-node-caption").css("left",(i.spines.index(this)+1)*n+"px"),e(".slide img").css("left",(i.spines.index(this)+1)*n+"px"),flagSpineShowAlways=!0}}i.goTo(i.spines.index(this)+1)}),e(document).bind("keydown",function(s){e(i.deck).closest(".lens-prime").length||e(i.deck).closest(".lens-parfocal").length||i.options.keys!==!1&&-1===e(s.target).parents().index(i.deck)&&(39===s.keyCode?(i.pauseAutoPlay=!0,i.next()):37===s.keyCode&&(i.pauseAutoPlay=!0,i.prev()))}),"undefined"!=typeof e.event.special.mousewheel&&s.bind("mousewheel",function(s,t){if(!e(i.deck).closest(".lens-prime").length&&!e(i.deck).closest(".lens-parfocal").length&&i.options.scroll!==!1&&!x(s)){var n=s.detail?s.detail:s.wheelDelta;"undefined"==typeof n&&(n=0-t);var r=!1;if(e(s.originalTarget).parents(i.deck).length&&-1!==e.inArray(s.originalTarget.nodeName.toLowerCase(),["input","select","option","textarea"])&&(r=!0),r!==!0)if(n>0){switch(i.options.scroll){case"stop":s.preventDefault();break;case!0:default:(i.current<i.slides.length||i.options.cycle===!0)&&s.preventDefault()}i.pauseAutoPlay=!0,i.next()}else{switch(i.options.scroll){case"stop":s.preventDefault();break;case!0:default:(1!==i.current||i.options.cycle===!0)&&s.preventDefault()}i.pauseAutoPlay=!0,i.prev()}}}),i.browser.msie!==!0&&i.options.touch!==!1){var M={x:0,y:0},z={x:0,y:0},P=i.options.touchThreshold;s[0].addEventListener("touchstart",function(e){M.x=e.targetTouches[0].pageX,M.y=e.targetTouches[0].pageY},!1),s[0].addEventListener("touchmove",function(e){e.preventDefault(),z.x=e.targetTouches[0].pageX,z.y=e.targetTouches[0].pageY},!1),s[0].addEventListener("touchend",function(e){var s=M.x-P.x,t=M.x+P.x,n=M.y-P.y,r=M.y+P.y;0!==z.x&&(z.x<=s?(i.pauseAutoPlay=!0,i.next()):z.x>=t&&(i.pauseAutoPlay=!0,i.prev())),0!==z.y&&(z.y<=n?(i.pauseAutoPlay=!0,i.vertical().next()):z.y>=r&&(i.pauseAutoPlay=!0,i.vertical().prev())),M={x:0,y:0},z={x:0,y:0}},!1)}e(i.spines[i.current-2]).addClass(i.classes.previous),e(i.spines[i.current]).addClass(i.classes.next),y(),b(),i.isLoaded===!1&&k(),i.isLoaded=!0},T=function(s){return s=Math.max(1,s-1),-1!==e.inArray(s,i.disabledSlides)&&(s=1===s?1:T(s)),s},_=function(s){return s=Math.min(i.slides.length,s+1),-1!==e.inArray(s,i.disabledSlides)&&(s=s===i.slides.length?i.current:_(s)),s},A=function(s){return s=Math.min(i.slides.length,Math.max(1,s)),-1!==e.inArray(s,i.disabledSlides)&&(s=s<i.current?T(s):_(s)),s},Q=function(e){var s=[];switch("function"==typeof i.options.complete&&s.push(function(){i.options.complete(i)}),typeof e){case"function":s.push(function(){e(i)});break;case"object":s.push(function(){e.complete(i)})}var t=function(){i.looping=!1;for(var e=0;e<s.length;e++)s[e](i)};return t},L={fade:function(s,t,n){var r=i.slides.eq(i.current-1);if(i.slides.not(r).stop().animate({opacity:0},i.options.speed,function(){this.style.display="none"}),r.css({display:"block",opacity:0}).addClass(i.classes.active).stop().animate({opacity:1},i.options.speed,function(){this.style.display="block",Q(t)()}),i.options.auto_height||i.options.device_width<700){var o=0;e(r).children("img, div").each(function(){var s=0,t=0;e(this).hasClass("slide-content")&&(s=jQuery(this).css("padding-top"),t=jQuery(this).css("bottom"));var i=this.clientHeight;e(this).find(".slide-content").length&&(i=e(this).find(".slide-content").height(),s=e(this).find(".slide-content").css("padding-top"),t=e(this).find(".slide-content").css("bottom")),i>o&&(o=i+parseInt(s)+parseInt(t))}),parseInt(o)<20&&i.options.device_width>700?o=c:parseInt(o)<20&&i.options.device_width<700&&(o=200),slide_height=o,r.css("height",slide_height),r.context.style.transition="all 1s",r.context.style.height=slide_height+"px";var a=parent.document.getElementById("slidedeck-preview");if(null!==a){var d=jQuery(".slidedeck-frame .sd-nav-wrapper").height();a.style.height=slide_height+d+100+"px"}}else m(r)},flip:function(s,t,n,r){var o=i.options.speed/1e3/2,a=i.slides.eq(i.former-1),d=i.slides.eq(i.current-1);"undefined"==typeof r&&(r=!1);var l=r===!0?"X":"Y";if(i.options.auto_height||i.options.device_width<700){var p=0;e(d).children("img, div").each(function(){var s=0,t=0;e(this).hasClass("slide-content")&&(s=jQuery(this).css("padding-top"),t=jQuery(this).css("bottom"));var i=this.clientHeight;e(this).find(".slide-content").length&&(i=e(this).find(".slide-content").height(),s=e(this).find(".slide-content").css("padding-top"),t=e(this).find(".slide-content").css("bottom")),i>p&&(p=i+parseInt(s)+parseInt(t))}),parseInt(p)<20&&i.options.device_width>700?p=c:parseInt(p)<20&&i.options.device_width<700&&(p=200),slide_height=p,d.css("height",slide_height),d.context.style.transition="all 1s",d.context.style.height=slide_height+"px";var h=parent.document.getElementById("slidedeck-preview");if(null!==h){var f=jQuery(".slidedeck-frame .sd-nav-wrapper").height();h.style.height=slide_height+f+100+"px"}}else m(d);var u={position:"absolute",zIndex:999,top:0,right:0,bottom:0,left:0,width:"100%",height:"100%",opacity:0},v=a.find(".slidedeck-slide-mask");v.length&&v.remove(),a.append('<div class="slidedeck-slide-mask mask-out"></div>'),v=a.find(".slidedeck-slide-mask").css(u);var y=d.find(".slidedeck-slide-mask");y.length&&v.remove(),d.addClass(i.classes.active).append('<div class="slidedeck-slide-mask mask-in"></div>'),u.opacity=1,y=d.find(".slidedeck-slide-mask").css(u);var w={};w[g+"transition"]="",w[g+"transform-origin"]="50% 50%",w[g+"transform"]="scale"+l+"(0)",i.slides.not(a).css(w);var b={};b[g+"transform-origin"]="50% 50%",b[g+"transform"]="scale"+l+"(0)",a.css(g+"transition",g+"transform "+o+"s ease-out").css(b),v.animate({opacity:1},{duration:i.options.speed/2,complete:function(){v.remove()}}),y.animate({opacity:1},{duration:i.options.speed/2,complete:function(){b[g+"transform"]="scale"+l+"(1)",d.addClass(i.classes.active).css(g+"transition",g+"transform "+o+"s ease-out").css(b),y.animate({opacity:0},{dureation:i.options.speed/2,complete:function(){i.slides.css(g+"transition","");var e={};e[g+"transform-origin"]="50% 50%",e[g+"transform"]="scale"+l+"(1)",i.slides.eq(i.current-1).css(e),Q(t)(),v.remove(),y.remove()}})}})},flipHorizontal:function(e,s,t){this.flip(e,s,t,!0)},stack:function(s,t,n){(i.current===i.slides.length&&1===i.former||i.former===i.slides.length&&1===i.current)&&(i.looping=!0);for(var r=0;r<i.slides.length;r++){var o=0,a=i.slides.eq(r);i.looping===!1?r<i.current-1?(r===i.current-1&&(a.addClass(i.classes.active),y()),o=0-l):o=0:i.former===i.slides.length&&1===i.current?r===i.current-1?(a.css({left:0,zIndex:5}).addClass(i.classes.active),y(),o=0):r===i.former-1?(a.css("z-index",10),o=0-l):(a.css("z-index",1),o=0):1===i.former&&i.current===i.slides.length&&r!==i.former-1&&r===i.current-1&&(a.css({left:0-l,zIndex:100}),a.addClass(i.classes.active),y(),o=0);var d={duration:i.options.speed,easing:i.options.transition};(r===(n===!0&&i.current-1)||r===(n===!1&&i.current))&&(d.complete=function(){i.looping===!0&&i.slides.each(function(e){e!==i.current-1&&(this.style.left=(1===i.current?0:0-l)+"px"),this.style.zIndex=i.slides.length-e}),Q(t)()});var p=c;if(i.options.auto_height||i.options.device_width<700){if(r===i.current-1){var h=0;e(a).children("img, div").each(function(){var s=0,t=0;e(this).hasClass("slide-content")&&(s=jQuery(this).css("padding-top"),t=jQuery(this).css("bottom"));var i=this.clientHeight;e(this).find(".slide-content").length&&(i=e(this).find(".slide-content").height(),s=e(this).find(".slide-content").css("padding-top"),t=e(this).find(".slide-content").css("bottom")),i>h&&(h=i+parseInt(s)+parseInt(t))}),parseInt(h)<20&&i.options.device_width>700?h=c:parseInt(h)<20&&i.options.device_width<700&&(h=200),p=h,i.slides.context.style.height=p+"px";var f=parent.document.getElementById("slidedeck-preview");if(null!==f){var u=jQuery(".slidedeck-frame .sd-nav-wrapper").height();f.style.height=p+u+100+"px"}}a.stop().animate({left:o,width:i.slide_width,height:p},d)}else a.stop().animate({left:o,width:i.slide_width,height:c},d),r===i.current-1&&m(a)}},slide:function(t,n,r){for(var o=0;o<i.slides.length;o++){var a=0;if(i.options.hideSpines!==!0)var d=e(i.spines[o]);var p=e(i.slides[o]);o<i.current?(o===i.current-1&&(p.addClass(i.classes.active),i.options.hideSpines!==!0&&(d.addClass(i.classes.active),d.next("."+i.classes.activeCorner).show()),y()),a=o*h):i.options.start==i.slides.length?a=f-(i.slides.length-o)*h:i.options.start!=i.slides.length&&(a=o*h+f),jQuery(i.deck.parent()).is(".display-nav-always")&&jQuery(".slide img").css("left",i.current*h),i.options.hideSpines===!0&&(a=(o-i.current+1)*s.width());var u={duration:i.options.speed,easing:i.options.transition};0===o&&(u.complete=Q(n));var g=c;if(jQuery(p).closest(".lens-titles").length>0){var w=jQuery(".slidedeck-frame .button-nav").height(),b=Math.round(parseInt(jQuery(".slidedeck-frame .button-nav").css("padding-top")));g=g-parseInt(w)-parseInt(b)-15}if(o===i.current-1&&(i.options.auto_height||i.options.device_width<700)){var x=0;e(p).children("img, div").each(function(){var s=0,t=0;e(this).hasClass("slide-content")&&(s=jQuery(this).css("padding-top"),t=jQuery(this).css("bottom"));var i=this.clientHeight;e(this).find(".slide-content").length&&(i=e(this).find(".slide-content").height(),s=e(this).find(".slide-content").css("padding-top"),t=e(this).find(".slide-content").css("bottom")),i>x&&(x=i+parseInt(s)+parseInt(t))}),parseInt(x)<20&&i.options.device_width>700?x=c:parseInt(x)<20&&i.options.device_width<700&&(x=200),g=x;var k=parent.document.getElementById("slidedeck-preview");if(null!==k){var w=jQuery(".slidedeck-frame .sd-nav-wrapper").height();k.style.height=x+w+100+"px"}i.slides.context.style.height=g+"px"}if(i.options.hideSpines===!0)if(i.options.auto_height||i.options.device_width<700)p.stop().animate({left:a+"px",width:i.slide_width+"px",height:g},u);else{var I={top:parseInt(p.css("padding-top"),10),right:parseInt(p.css("padding-right"),10),bottom:parseInt(p.css("padding-bottom"),10),left:parseInt(p.css("padding-left"),10)},C=c;if((p.closest(".layout-three-wide").length>0||p.closest(".layout-peek").length>0)&&(c=c-I.top-I.bottom+"px"),jQuery(p).closest(".lens-titles").length>0){var w=jQuery(".slidedeck-frame .button-nav").height(),b=Math.round(parseInt(jQuery(".slidedeck-frame .button-nav").css("padding-top")));C=c-parseInt(w)-parseInt(b)-15}if(p.find(".slidedeck-vertical-center-inner").length>0){var w=jQuery(".nav-slidedeck").height(),S=parseInt(c)-w+"px";p.stop().animate({left:a+"px",width:i.slide_width+"px",height:S},u)}else p.stop().animate({left:a+"px",width:i.slide_width+"px",height:C},u);o===i.current-1&&m(p)}else{var j=0;j=o===i.current-1?0:a,p.stop().animate({left:j+"px",width:l+"px"},u)}i.options.hideSpines!==!0&&(o===i.current-1&&m(p),v(d),d.css("left")!==a+"px"&&(d.stop().animate({left:a+"px"},{duration:i.options.speed,easing:i.options.transition}),d.next("."+i.classes.activeCorner).stop().animate({left:a+h+"px"},{duration:i.options.speed,easing:i.options.transition})))}}},D=function(t,n){if(t=A(t),(t<=i.controlTo||i.options.controlProgress!==!0)&&i.looping===!1){var r=!0;t<i.current&&(r=!1);var o=[i.classes.active,i.classes.next,i.classes.previous].join(" ");if(i.former=i.current,i.current=t,"function"==typeof i.options.before&&i.options.before(i),"undefined"!=typeof n&&"function"==typeof n.before&&n.before(i),i.current!==i.former){i.spines.removeClass(o),i.slides.removeClass(o),s.find("."+i.classes.activeCorner).hide(),i.spines.eq(i.current-2).addClass(i.classes.previous),i.spines.eq(i.current).addClass(i.classes.next);var a="slide";"undefined"!=typeof L[i.options.slideTransition]&&(a=i.options.slideTransition),L[a](t,n,r)}e(window).trigger("slidedeckChange",[i.slides,t]),w()}},M=function(s,t){var n=s;"string"==typeof s&&(n={},n[s]=t);for(var r in n){switch(t=n[r],r){case"speed":case"start":t=parseFloat(t),isNaN(t)&&(t=i.options[r]);break;case"autoPlay":"boolean"!=typeof t&&(t=i.options[r]),i.pauseAutoPlay=!1;break;case"scroll":case"keys":case"activeCorner":case"controlProgress":case"hideSpines":case"cycle":"boolean"!=typeof t&&(t=i.options[r]);break;case"cufonRefresh":case"transition":"string"!=typeof t&&(t=i.options[r]);break;case"complete":case"before":"function"!=typeof t&&(t=i.options[r]);break;case"index":"boolean"!=typeof t&&(e.isArray(t)||(t=i.options[r]));break;case"slideTransition":for(var o in L)if(t===o){switch(i.browser._this){case"msie":case"msie7":case"msie8":case"msie9":case"msie10":switch(t){case"flip":case"flipHorizontal":t="fade"}}i.options.slideTransition=t;for(var a=0;a<i.slides.length;a++)I(i.options.slideTransition,a)}}i.options[r]=t}},z=function(s){-1===e.inArray(s,i.disabledSlides)&&1!==s&&0!==s&&i.disabledSlides.push(s)},P=function(s){var t=e.inArray(s,i.disabledSlides);-1!==t&&i.disabledSlides.splice(t,1)},E=function(s,t,i){var n=this,s=e(s),r=s.children();if("DL"===s[0].nodeName){r=s.children("dd");var o=s.children("dt").hide()}var a=r.length,d=s.parents("dd.slide"),l=s.parent(),c=d.innerHeight(),p=100;if(t.deck.find("."+t.classes.activeCorner).length&&(p=t.deck.find("."+t.classes.activeCorner).css("z-index")-1),this.navParent=null,this.navChildren=null,this.current=0,this.slides=r,this.options={speed:500,scroll:!0,continueScrolling:t.options.continueScrolling},"object"==typeof i)for(var h in i)this.options[h]=i[h];this.classes={navContainer:"verticalSlideNav",arrow:"arrow",prefix:"verticalSlide"};var f=function(i,r,o){n.current=i,"function"==typeof n.options.before&&n.options.before(n),"object"==typeof o&&"function"==typeof o.before&&o.before(n);var a=n.options.speed;"undefined"!=typeof r&&(a=0),a=parseInt(a,10),d.find("ul."+n.classes.navContainer+" li."+n.classes.arrow).stop().animate({top:e(n.navChildren[n.current]).position().top+"px"},a),n.navChildren.removeClass(t.classes.active),e(n.navChildren[n.current]).addClass(t.classes.active),n.slides.removeClass(t.classes.active),e(n.slides[i]).addClass(t.classes.active),m(n.slides[i]),s.stop().animate({top:0-n.current*c+"px"},{duration:a,easing:t.options.transition,complete:function(){"function"==typeof n.options.complete&&n.options.complete(n),"object"==typeof o?"function"==typeof o.complete&&o.complete(n):"function"==typeof o&&o(t)}})},u=function(){var e=document.createElement("UL");e.className=n.classes.navContainer,e.style.position="absolute",e.style.zIndex=p,e.style.listStyleType="none";for(var s=0;a>s;s++){var i=document.createElement("LI");i.className="nav_"+(s+1)+(0===s?" active":""),i.style.listStyleType="none";var l=document.createElement("A");r[s].id?l.href="#"+r[s].id:l.href="#"+(s+1),l.className="nav_"+(s+1);var c="Nav "+(s+1);"undefined"!=typeof o&&(c=o.eq(s).html()),l.innerHTML=c,i.appendChild(l),e.appendChild(i)}var h=document.createElement("LI");h.className=n.classes.arrow,h.style.top=0,h.appendChild(document.createTextNode(" ")),e.appendChild(h),d.append(e),n.navChildren=d.find("."+e.className+" li"),d.find("."+e.className+" li a").click(function(e){e.preventDefault(),t.pauseAutoPlay=!0,f(this.className.match("nav_([0-9]+)")[1]-1)})};this.goTo=function(s,i,n){s=Math.min(a-1,Math.max(0,s-1)),i=Math.min(t.slides.length-1,Math.max(0,s)),e(t.slides[i]).find("."+this.classes.navContainer+" a:eq("+s+")").addClass(t.classes.active).siblings().removeClass(t.classes.active),f(s,n)},this.next=function(e){f(Math.min(a-1,n.current+1),void 0,e)},this.prev=function(e){f(Math.max(0,n.current-1),void 0,e)},this.snapTo=function(e,s){f(Math.max(0,Math.min(a-1,e)),!0,s)};var g=function(){if(!d.find("."+n.classes.navContainer).length){var i=t.browser.msie!==!0||t.browser.msie9||t.browser.msie10?e(t.spines[0]).outerHeight():e(t.spines[0]).outerWidth();t.options.hideSpines===!0&&(i=0),s.css({position:"absolute",zIndex:p-1,top:"0px",left:i,listStyleType:"none",padding:"0px",margin:"0px",width:l.innerWidth()-i,height:c*a});var o={top:parseInt(r.css("padding-top"),10),right:parseInt(r.css("padding-right"),10),bottom:parseInt(r.css("padding-bottom"),10),left:parseInt(r.css("padding-left"),10)},h={top:parseInt(r.css("border-top-width"),10),right:parseInt(r.css("border-right-width"),10),bottom:parseInt(r.css("border-bottom-width"),10),left:parseInt(r.css("border-left-width"),10)};for(var f in h)isNaN(h[f])&&(h[f]=0);var g=c-o.top-o.bottom-h.top-h.bottom,v=s.width()-o.right-o.left-h.right-h.left;r.each(function(s,t){e(t).css({listStyleType:"none",position:"absolute",top:s*c,width:v,height:g}).addClass(n.classes.prefix+"_"+(s+1))}),e(r.get(0)).addClass(t.classes.active),l.css({overflow:"hidden"}),u(),"undefined"!=typeof e.event.special.mousewheel&&s.bind("mousewheel",function(s,i){if(n.options.scroll!==!1){var r=s.detail?s.detail:s.wheelDelta;"undefined"==typeof r&&(r=0-i);var o=!1;if(e(s.originalTarget).parents(n.deck).length&&-1!==e.inArray(s.originalTarget.nodeName.toLowerCase(),["input","select","option","textarea"])&&(o=!0),
o!==!0){var a,d=!1;if(n.options.continueScrolling===!0&&(n.current+1===1?a=!0:n.current+1===n.slides.length&&(d=!0)),r>0){if(s.preventDefault(),t.pauseAutoPlay=!0,d)return t.next(),!1;n.next()}else{if(s.preventDefault(),t.pauseAutoPlay=!0,a)return t.prev(),!1;n.prev()}}}})}};if(c>0)g();else{var v;v=setInterval(function(){s=e(s),r=s.children(),a=r.length,d=s.parents(".slide"),l=s.parent(),c=d.innerHeight(),c>0&&(clearInterval(v),g())},20)}},N=function(){c=s.height(),l=s.width(),s.css("height",c+"px"),p=0,h=0,i.options.hideSpines!==!0&&i.spines.length>0&&(p=e(i.spines[0]).height(),h=e(i.spines[0]).outerHeight()),f=l,u=Math.ceil(p/2)},H=function(e){if(i.browser.opera&&i.browser.version<"10.5"||i.browser.msie6||i.browser.firefox2||i.browser.firefox30)return"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This web browser is not supported by SlideDeck. Please view this page in a modern, CSS3 capable browser or a current version of Internet Explorer"),!1;if("undefined"!=typeof e)for(var t in e)i.options[t]=e[t];switch(i.spines.length<1&&(i.options.hideSpines=!0),i.browser._this){case"msie":case"msie7":case"msie8":case"msie9":case"msie10":switch(i.options.slideTransition){case"flip":case"flipHorizontal":i.options.slideTransition="fade"}}switch(i.options.slideTransition){case"flip":case"flipHorizontal":case"fade":case"stack":i.options.hideSpines=!0}if(i.options.hideSpines===!0&&(i.options.activeCorner=!1),i.current=Math.min(i.slides.length,Math.max(1,i.options.start)),s.height()>0)N(),j();else{var n;n=setTimeout(function(){N(),s.height()>0&&(clearInterval(n),N(),j())},20)}},q=function(e){var s;s=setInterval(function(){i.isLoaded===!0&&(clearInterval(s),e(i))},20)};this.autoAdjustAfterLoad=function(e){if(i.slides.length>0)for(var s=0;s<i.slides.length;s++)s===i.current-1&&C()},this.reloadSlidedeck=function(e){if(j(),i.slides.length>1)for(var s=0;s<i.slides.length;s++)s===i.current-1&&C()},this.loaded=function(e){return q(e),i},this.next=function(e){var s=Math.min(i.slides.length,i.current+1);return i.options.cycle===!0&&i.current+1>i.slides.length&&(s=1),D(s,e),i},this.prev=function(e){var s=Math.max(1,i.current-1);return i.options.cycle===!0&&i.current-1<1&&(s=i.slides.length),D(s,e),i},this.goTo=function(s,t){if(i.pauseAutoPlay=!0,"string"==typeof s){":first"===s?s=i.slides.filter(":first"):":last"===s?s=i.slides.filter(":last"):s.match(/^\#/)||(s="#"+s);var n=i.slides.index(e(s));if(-1===n)return!1;s=n+1}return D(Math.min(i.slides.length,Math.max(1,s)),t),i},this.progressTo=function(e,s){return i.pauseAutoPlay=!0,i.updateControlTo(e),i.goTo(e,s),i},this.updateControlTo=function(e){return i.controlTo=e,b(),i},this.disableSlide=function(e){return z(e),i},this.enableSlide=function(e){return P(e),i},this.setOption=function(e,s){return M(e,s),i},this.vertical=function(s){if("undefined"!=typeof this.verticalSlides)return this.verticalSlides[this.current-1];this.verticalSlides={};for(var t=0;t<this.slides.length;t++){var i=e(this.slides[t]).find("."+this.classes.vertical),n={next:function(){return!1},prev:function(){return!1},goTo:function(){return!1}};i.length&&(n=new E(i,this,s)),this.verticalSlides[t]=n}},this.goToVertical=function(e,s){"undefined"!=typeof s?this.verticalSlides[s-1]!==!1&&(this.current===s?this.vertical().goTo(e):(this.verticalSlides[s-1].goTo(e,s,!0),this.goTo(s))):this.vertical().goTo(e)},this.resetVertical=function(e,s){"undefined"==typeof s&&(s=!0),"undefined"==typeof e&&(e=this.current),s===!0?this.verticalSlides[e-1].snapTo(0):this.verticalSlides[e-1].goTo(0)},H(t)},e.fn.slidedeck=function(e){for(var s=[],t=0;t<this.length;t++)this[t].slidedeck||(this[t].slidedeck=new SlideDeck(this[t],e)),s.push(this[t].slidedeck);return s.length>1?s:s[0]}}(jQuery);